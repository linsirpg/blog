---
title: 第二章-URL与资源
date: 2020-05-08
tags:
 - http
categories: 
 - http权威指南
---

## 2.1 浏览因特网资源
  URL 是浏览器寻找信息时所需要的资源位置.

    通过URL,人类和引用程序才能找到、使用并共享因特网上大量的数据资源.
    URI是一类更通用的资源标识符,由两个主要的子集URL和URN构成.
    URL是通过描述资源的位置来标准资源;URN是通过名字来识别资源,与其所处的位置无关.

  例子: 获取URL http://www.joes-hardware.com/seasonal/index.html

    * URL的第一部分(http)是URL方案(scheme).方案可以告知Web客户端怎么访问资源. 例子中说明使用HTTP协议.
    * URL的第二部分(www.joes-hardware.com)指向的是服务器的位置. 例子中告知Web客户端 资源位于何处.
    * URL的第三部分(/seasonal/index.html)是资源路径. 路径说明了请求的是服务器上哪个特定的本地资源.
    大多数 URL都有同样的："方案://服务器位置/路径"结构
## 2.2 URL的语法
  URL提供了一种定位因特网上任意资源的手段,但是在通过不同的方案(HTTP、FTP、SMTP)访问,会有不同的语法.
  大多数URL方案的URL语法就建立在这个由9部分构成的通用格式上:
  ```
  <scheme>://<user>:<password>@<host>:<port>/<path>;<params>?<query>#<frag>
  ```
  通用URL组件
  | 组件 | 描述                                                                                                                             | 默认值       |
  | ---- | -------------------------------------------------------------------------------------------------------------------------------- | ------------ |
  | 方案 | 访问服务器以获取资源时要使用哪种协议                                                                                             | 无           |
  | 用户 | 某些方案访问资源时需要的用户名                                                                                                   | 匿名         |
  | 密码 | 用户名后面可能需要包含的密码,中间由冒号(:)分隔                                                                                   | <E-mail地址> |
  | 主机 | 资源宿主服务器主机名或点分IP地址                                                                                                 | 无           |
  | 端口 | 资源宿主服务器正在监听的端口号.很多方案都有默认端口号(HTTP默认端口号为80)                                                        | 每个方案特有 |
  | 路径 | 服务器上资源的本地明,由一个斜杠(/) 将其与前面的URL组件分隔开来.路径组件的语法是与服务器和方案有关的                              | 无           |
  | 参数 | 某些方案会用这个组件来指定输入的参数.参数为名/值对. URL中可以包含多个参数片段,他们相互之间一级路径的其余部分用分号(:)分隔        | 无           |
  | 查询 | 某些方案会用这个组件出传递参数以激活应用程序.查询组件的内容没有通用的格式,用字符?将其与URL的其余部分分隔开来                     | 无           |
  | 片段 | 一小片或一部分资源的名字.引用对象是,不会讲frag字段传送给服务器;这个片段是在客户端内部使用的.通过字符#将其与URL的其余部分分隔开来 | 无           |
### 2.2.1 方案-使用什么协议
  方案是规定如何访问指定的资源的主要标识符,告诉负责解析URL的应用程序使用什么协议.
  方案组件必须以一个字母符号开始,由第一个‘:’ 将其与URL的其余部分分隔开来.方案名与大小写无关.
### 2.2.2 主机与端口

    主  机: 标识了因特网上能够访问资源的宿主机器(可以用域名或是IP地址来表示主机名)
    端口号: 标识了服务器正在监听的网络端口,对下层使用了TCP协议的HTTP来说,默认端口号为80. 

    客户端可以通过主机找到对应的服务器端,但是服务器端是有很多端口的,每个应用程序对应一个端口号,
    通过类似门牌号的端口号,客户端才能真正的访问到该服务器.
    为了对端口进行区分,将每个端口进行了编号,这就是端口号

    例如: 主机 是某个学校的(xx小学),那么 端口号 就是学校里面教室的的门牌号 (如六年级一班)

### 2.2.3 用户名和密码
    很多服务器都要求输入用户名和密码才会允许用户访问数据.FTP服务器就是这样一个常见的实例.

    ftp://anonymous:mypassWd@ftb.prep.ai.mit.edu/pub/gnu 用户名和密码两者用: 分隔

    如果没有带用户或是密码组件,只有标准的方案、主机、和路径.但是某个应用程序要求输入用户名和密码,
    那么会插入一个默认的用户名和密码.

### 2.2.4 路径
  URL的路径说明了资源位于服务器上的什么地方.
### 2.2.5 参数
  路径平不总能为资源定位提供足够的信息,有时服务器还需要其他的信息协助才可以正常工作,因此可以使用参数.
  比如
  ftp://prep.ai.mit.edu/pub/gnu;type=d
  在这个例子中,有一个参数type=d,参数名为type,值为d.
  参数由字符串; 将其与URL的其余部分分隔开来.
### 2.2.6 查询字符串
  查询字符串: 通过查询字符串可以缩小所请求资源的类型范围.
  例如 http://www.joes-hardware.com/index.html?item=1212
  问号(?)右边的内容 我们成为查询(query)组件, 多个查询组件用&连接起来
  如: index.html?item=1&name=xiaoming
### 2.2.7 片段
    对一个带有章节的大型文本文档来说,我们有时候需要一访问就指定到某一章节,便可以利用片段来定位章节的位置.
    片段挂在URL的右手边,最前面有一个字符串'#'例如:
    http://www.joes-hardware.com/index.html#drills drills为该例子中的片段
  ![片段例子](./image/2-3.png)
## 2.3 URL快捷方式
  Web客户端可以理解并使用集中URL快捷方式.
  很多浏览器支持URL的'自动扩展',当用户输入URL的关键部分时,浏览器会将其余的部分补充起来.
### 2.3.1 相对URL
  URL有两种方式: 绝对的和相对的. 
  绝对的URL中包含有访问资源的所需的全部信息.
  相对URL是不完整的,要从相对URL中获取访问资源所需的全部信息,就不许相对于另外一个,被称为其基础的URL进行解析.



